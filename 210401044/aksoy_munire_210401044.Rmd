---
title: "Münire Aksoy 210401044"
output: html_notebook
---
# Q1 : Problem tanımı

Stok yönetimi ve çok satılan ürünlerle satış kombinasyonu, bir süpermarket işletmesinin başarı performansını artırmak üzere kilit stratejiler sunar.Süpermarketin rekabet gücünü arttırır ve müşteri taleplerine daha hızlı ve etkili şekilde yanıt vermesini sağlar.

# Q2 : Proje Amacı

[Supermarket sales](https://www.kaggle.com/datasets/aungpyaeap/supermarket-sales?rvi=1)adlı veri setini kullanarak belirli bir marketin stok yönetimi süreçlerini optimize etmek ve çok satılan ürünlerle satış kombinasyonlarını analiz ederek iş performansını artırmaktır. Şirketimiz, süpermarket sektöründe faaliyet gösteriyor ve karşılaşılan sorun, stok kontrolünün etkin bir şekilde yönetilememesi ve en çok talep gören ürünlerin belirlenerek satış kombinasyonlarının etkili bir şekilde oluşturulmamasıdır.

Projede planlanan ilk analiz etabı, mevcut stok durumunun detaylı bir değerlendirmesi olacaktır. Bu analiz, stok devir hızlarının hesaplanması ve minimum stok seviyelerinin belirlenmesini içerecek. İkinci aşamada ise çok satılan ürünlerin belirlenmesi ve bu ürünler arasındaki satış kombinasyonlarının analizi gerçekleştirilecektir. Bu adımların sonucunda, şirket stoklarını daha etkin bir şekilde yönetebilecek, müşteri taleplerini karşılamak için doğru ürün kombinasyonlarını sunabilecek ve böylece işletme performansını önemli ölçüde artırabilecektir. Bu projenin şirket için sağlayacağı fayda, hem operasyonel süreçlerin iyileştirilmesi hem de gelir artışı yoluyla finansal başarıya olumlu bir etki yapmasıdır.

# Q3 : Veri seti keşifsel analizi
```{r}
# Veri setini yükleme
dataset_path <- "C:/Users/munir/OneDrive/Belgeler/sales.csv"
data <- read.csv(dataset_path, encoding = "UTF-8")
# Ürün kategorilerini bulma
unique_product_lines <- unique(data$Product.line)

# Her bir ürün kategorisi için stok analizi
for (product_line in unique_product_lines) {
  product_line_data <- subset(data, Product.line == product_line)
  
  cat("\n", "UrUn Kategorisi:", product_line, "\n")
  cat("Toplam Satıs:", sum(product_line_data$Total), "\n")
  cat("Toplam Mıktar:", sum(product_line_data$Quantity), "\n")
  cat("Ortalama Fıyat:", mean(product_line_data$Unit.price), "\n")
  cat("En Yuksek Fıyat:", max(product_line_data$Unit.price), "\n")
  cat("En Dusuk Fıyat:", min(product_line_data$Unit.price), "\n")
  cat("Stok Devir Hızı:", sum(product_line_data$Quantity) / nrow(product_line_data), "\n")
}
```


```{r}
# Q4 : Veri seti ön işlemesi
# Veri setini yükleme
dataset_path <- "C:/Users/munir/OneDrive/Belgeler/sales.csv"
data <- read.csv(dataset_path, encoding = "UTF-8")

# Ondalık ayraç düzeltme (örneğin, virgül kullanımını değiştirme)
data$Unit.price <- as.numeric(gsub(",", ".", data$Unit.price))

# Eksik verilerin temizlenmesi
data <- na.omit(data)

# EUR cinsinden olan "Total" sütununu TRY'ye çevirme
# Döviz kuru varsayılan olarak 10 olarak alınmıştır, gerçek değeri değiştirmeniz gerekebilir
doviz_kuru <- 10
data$Total_TRY <- data$Total * doviz_kuru

# Özetleme: Ön İşleme Adımları Sonuçları
# Ham veri setindeki eksik veri sayısı
missing_values_before <- sum(is.na(data$Total))

# Temizlenmiş veri setindeki eksik veri sayısı
missing_values_after <- sum(is.na(data$Total_TRY))

# Raporda özetleme
cat("Ham veri setindeki eksik veri sayısı:", missing_values_before, "\n")
cat("Temizlenmiş veri setindeki eksik veri sayısı:", missing_values_after, "\n")

# İlk birkaç satırı görüntüleme
head(data)
```


```{r}
# Q5 : Veri mühendisliği
# En çok satılan ürünleri bulma
top_selling_products <- data %>%
  group_by(Product.line) %>%
  summarise(Total_Sales = sum(Total)) %>%
  arrange(desc(Total_Sales)) %>%
  head(5)  # İlk 5 ürünü al

# En çok satılan ürünleri görselleştirme (örneğin, sütun grafiği)
library(ggplot2)
ggplot(top_selling_products, aes(x = reorder(Product.line, -Total_Sales), y = Total_Sales)) +
  geom_bar(stat = "identity", fill = "skyblue") +
  labs(title = "En Cok Satılan Urunler", x = "Urun", y = "Toplam Satıs Tutarı") +
  theme_minimal()

# Ürün stok analizi
product_stock_analysis <- data %>%
  group_by(Product.line) %>%
  summarise(Average_Stock = mean(Quantity))

# Ürün stok analizini görselleştirme (örneğin, çubuk grafiği)
ggplot(product_stock_analysis, aes(x = reorder(Product.line, -Average_Stock), y = Average_Stock)) +
  geom_bar(stat = "identity", fill = "lightgreen") +
  labs(title = "Urun Stok Analizi", x = "Urun", y = "Ortalama Stok Miktari") +
  theme_minimal()
```


```{r}
# Q6 : Veri analizi


library(dplyr)
library(ggplot2)
library(tidyr)

# İki veri setini birleştirme örneği (örneğin, aynı veri setini kopyalayarak)
combined_data <- bind_rows(data, data)

# Tablo: İki veri setinin birleştirilmesi
print("İki Veri Setinin Birleştirilmesi")
head(combined_data)

# Grafik: Satış Tutarlarına Göre Ürün Kategorileri
ggplot(data, aes(x = Product.line, y = Total, fill = Product.line)) +
  geom_bar(stat = "identity") +
  labs(title = "Satıs Tutarlarına Gore Urun Kategorileri", x = "Urun Kategorisi", y = "Toplam Satıs Tutarı") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

# İstatistik 1: Toplam Satış Tutarı Ortalaması
average_sales <- mean(data$Total)
print(paste("Toplam Satış Tutarı Ortalaması:", round(average_sales, 2)))

# İstatistik 2: Satış Miktarı ve Satış Tutarı Arasındaki Korelasyon
correlation <- cor(data$Quantity, data$Total)
print(paste("Satış Miktarı ve Satış Tutarı Arasındaki Korelasyon:", round(correlation, 2)))
